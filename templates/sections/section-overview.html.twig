

{% if items|length > 3 %}
  {% set count = '3' %}
{% else %}
  {% set count = items|length %}
{% endif %}

{% if template is empty %}
  {% set template = 'card' %}
{% endif %}


<section class="section section--overview l-item-count-{{ count }}">

  {# Wrapper for section intro #}
  {% if title or description %}
    <div class="l-section-top">

      {% if title %}
        <h2 class="section__title">
          {{ title }}
        </h2>
      {% endif %}

      {% if description %}
        <p class="section__description">
          {{ descr }}
        </p>
      {% endif %}
    </div>

  {% endif %}

  {# Wrapper for all section content #}
  <div class="l-section-content">

    {% if items %}

      {% if modifier == 'l-layout-4col' %}
        {% set extra_class = 'grid--col-4' %}
      {% else %}
        {% set extra_class = 'grid--col-' ~ count %}
      {% endif %}

      <div class="grid {{ extra_class }}">

        {% for item in items %}
          {% include 'components/'~ template ~'.html.twig' with {
            'title' : item.title,
            'descr' : item.descr,
            'img' : item.img,
            'type' : item.type,
            'quote' : item.quote,
            'meta': item.meta,
            'nr': item.nr,
            'category': item.category
          } %}
        {% endfor %}
      </div>

      {% if cta %}

        <p class="l-cta-wrapper">
          <a class="btn btn--primary" href="{{ cta.url }}">{{ cta.title }}</a>
        </p>

      {% endif %}

    {% else %}

      Hemmeneks!

    {% endif %}

  </div>
</section>

